{% extends 'base.html' %}

{% block title %}Data Siswa - My Website{% endblock %}

{% block content %}
<div class="main-section">
    <div class="bar">
        <div class="inbar">
            <div class="left-section">
                <i class='bx bxs-building-house logo'></i>
                <span class='sub'>SD NEGERI JUNGSEMI 1</span>
            </div>
            <span class="sub2">2024/2025</span>
        </div>
    </div>
</div>

<div class="container">
    <form method="POST" action="{{ url_for('input_nilai_route') }}">
        <div class="left">
            <div class="data-table1">
                <table>
                    <thead>
                        <tr>
                            <th>NO</th>
                            <th>Nama Siswa</th>
                            <th>BI</th>
                            <th>MTK</th>
                            <th>IPA</th>
                            <th>IPS</th>
                            <th>PKN</th>
                            <th>OR</th>
                            <th>B.Ing</th>
                            <th>PAI</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for idx, siswa in enumerate(siswa_list, start=1) %}
                        <tr>
                            <td>{{ idx }}</td>
                            <td>{{ siswa.nama }}</td>
                            {% for mp in mata_pelajaran_list %}
                                <td>
                                    <input type="number" name="{{ mp.nama_pelajaran | lower }}_{{ siswa.id_siswa }}" 
                                           value="{{ nilai_dict.get((siswa.id_siswa, mp.id_mata_pelajaran), '') }}" />
                                </td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <button type="submit" class="simpan">Simpan</button>
            </div>            
        </div>
    </form>

    <div class="content right">
        <div class="widget">
            <div class="subwidget2">
                <i class='bx bx-chart chart'></i>
            </div>
            <h1 class="header-data">6</h1>
            <p class="foot-data2">Total Guru</p>
        </div>

        <div class="widget">
            <div class="subwidget2">
                <i class='bx bx-dice-3 chart2'></i>
            </div>
            <h1 class="header-data">4</h1>
            <p class="foot-data2">Total Siswa</p>
        </div>
    </div>
</div>
{% endblock %}
